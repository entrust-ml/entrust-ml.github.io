@tailwind base;
@tailwind components;
@tailwind utilities;

/* KaTeX styles */
@import 'katex/dist/katex.min.css';

/* Apple-like smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom selection color */
::selection {
  background-color: rgba(0, 102, 204, 0.2);
}

/* Links - no underline by default, underline on hover */
a {
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* KaTeX display math styling */
.katex-display {
  margin: 1.5rem 0;
  overflow-x: auto;
  overflow-y: hidden;
}

.katex {
  font-size: 1.1em;
}

/* Tag color classes */
.tag-methods {
  @apply bg-purple-100 text-purple-700 border-purple-200;
}

.tag-vision {
  @apply bg-sky-100 text-sky-700 border-sky-200;
}

.tag-nlp {
  @apply bg-blue-100 text-blue-800 border-blue-200;
}

.tag-ml {
  @apply bg-green-100 text-green-700 border-green-200;
}

.tag-systems {
  @apply bg-orange-100 text-orange-700 border-orange-200;
}

/* Prose customization for MDX */
.prose-apple {
  --tw-prose-body: #424245;
  --tw-prose-headings: #1d1d1f;
  --tw-prose-links: #0066cc;
  --tw-prose-code: #723988; /* Brand purple for inline code */
  --tw-prose-pre-code: #e1e4e8; /* Light gray for block code fallback */
  --tw-prose-pre-bg: #0d1117;
}

/* Code block styling */
.prose-apple pre code {
  color: #e1e4e8 !important; 
  background-color: transparent !important;
}

/* 3. ALLOW syntax highlighting spans to keep their colors */
/* This ensures tokens (blue/purple/green) stay colorful */
/* .prose-apple pre code span {
  color: inherit !important;
} */

/* Center images in blog posts */
.prose img {
  @apply mx-auto;
}

/* Image size classes: ![alt |xs/sm/md/lg/full](url) */
.prose img.img-xs {
  @apply max-h-32;
}

.prose img.img-sm {
  @apply max-h-48;
}

.prose img.img-md {
  @apply max-h-72;
}

.prose img.img-lg {
  @apply max-h-96;
}

.prose img.img-full {
  @apply max-h-none w-full;
}

/* Image captions - paragraphs containing only italic text */
.prose p:has(> em:only-child) {
  @apply text-center text-apple-gray-500 text-sm mt-2;
}

/* Footnote styling */
.footnotes {
  @apply mt-12 pt-8 border-t border-apple-gray-200;
  font-size: 0.875rem;
}

.footnotes h2 {
  @apply sr-only;
}

.footnotes ol {
  @apply list-decimal list-outside ml-4 space-y-2;
}

.footnotes li {
  @apply text-apple-gray-500 pl-2;
}

.footnotes li p {
  @apply inline;
}

/* Footnote reference in text (superscript number) */
a[data-footnote-ref] {
  @apply text-blue-600 font-medium;
  font-size: 0.75em !important;
  text-decoration: none !important;
  vertical-align: baseline !important;
  position: relative !important;
  top: -0.25em !important;
  margin-left: 1px;
}

a[data-footnote-ref]:hover {
  @apply text-blue-800;
  text-decoration: underline !important;
}

.prose-apple pre code {
  background-color: transparent !important;
  font-size: inherit; /* Optional: ensures font size matches */
}